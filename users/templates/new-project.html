<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>New Project</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script defer>
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      sidebar.classList.toggle('-translate-x-full');
    }

    function addRequirementRow() {
      const tbody = document.getElementById("requirementsTableBody");
      const rowCount = tbody.rows.length + 1;
      const row = document.createElement("tr");
      row.innerHTML = `
        <td class="border p-2 text-right">${rowCount}</td>
        <td class="border p-2">
          <input type="text" name="Requirments" class="w-full border rounded px-2 py-1" placeholder="Enter requirement" />
        </td>
      `;
      tbody.appendChild(row);
    }
  </script>
</head>

<body class="bg-gray-50">

  <!-- Header -->
  <div class="flex items-right justify-between bg-white shadow px-3 py-2 fixed top-0 left-0 right-0 z-10">
    <div class="flex items-right space-x-4">
      <button onclick="toggleSidebar()" class="text-gray-700 text-2xl focus:outline-none">â˜°</button>
      <img src="SGS_logo.png" alt="Logo" class="h-8" />
    </div>
    <div class="flex items-right space-x-2 text-sm text-gray-700">
      <span>Employee Name</span>
      <i class="fas fa-user-circle fa-2x"></i>
    </div>
  </div>

  <!-- Sidebar -->
  <!-- Sidebar -->
<div id="sidebar" style="background-color: #A7C8CD; color: #366C77"
  class="fixed top-0 left-0 w-64 h-full p-4 space-y-4 transform -translate-x-full transition-transform duration-300 z-20">
  <button onclick="toggleSidebar()" style="color:#366C77" class="text-xl mb-2">
    <i class="fas fa-xmark"></i>
  </button>
  <img src="sgs_white_logo.png" alt="Logo" class="h-8" />
  <nav class="space-y-2">
    <a href="index.html" class="block px-3 py-2 rounded hover:bg-gray-200 focus:bg-gray-300 transition">
      Projects
    </a>
    <a href="dashboard.html" class="block px-3 py-2 rounded hover:bg-gray-200 focus:bg-gray-300 transition">
      Dashboard
    </a>
    <a href="requested_projects.html" class="block px-3 py-2 rounded hover:bg-gray-200 focus:bg-gray-300 transition">
      Requested Projects
    </a>
    <a href="Reporting.html" class="block px-3 py-2 rounded hover:bg-gray-200 focus:bg-gray-300 transition">
      Reporting
    </a>
  </nav>
  <div class="fixed bottom-0 right-0 w-full text-right py-4 pr-6">
    <button style="background-color:#366C77" class="mt-4 border px-4 py-2 rounded text-white">Log out</button>
  </div>
</div>


  <!-- Main Form -->
  <div class="pt-20 px-6">
    <div class="bg-white rounded-[30px] shadow py-6 px-8 md:px-24 mt-6 max-w-screen-md mx-auto">
      <h2 class="text-xl font-semibold mb-4 text-right">New Project Request</h2>

      <form method="post" action="{% url 'insert_request' %}" class="space-y-4">
        {% csrf_token %}

        <div>
          <label class="block mb-1 font-medium">Project Title</label>
          <input type="text" name="Project_Title" class="w-full border rounded px-3 py-2" placeholder="Project Name" required />
        </div>

        <div>
          <label class="block mb-1 font-medium">Request Type</label>
          <input type="text" name="requestType" class="w-full border rounded px-3 py-2" placeholder="Request Type" required />
        </div>

        <div>
          <label class="block mb-1 font-medium">Driver</label>
          <input type="text" name="Driver" class="w-full border rounded px-3 py-2" placeholder="Driver" required />
        </div>

        <div>
          <label class="block mb-1 font-medium">Objective</label>
          <input type="text" name="Objective" class="w-full border rounded px-3 py-2" placeholder="Objective" required />
        </div>

        <div>
          <label class="block mb-1 font-medium">Scope</label>
          <input type="text" name="Scope" class="w-full border rounded px-3 py-2" placeholder="Scope" required />
        </div>

        <!-- Requirements Table -->
        <div>
          <label class="block mb-1 font-medium">Requirements</label>
          <div class="overflow-x-auto">
            <table class="w-full border border-gray-300">
              <thead class="bg-gray-100">
                <tr>
                  <th class="border p-2 text-left">#</th>
                  <th class="border p-2 text-left">Requirement</th>
                </tr>
              </thead>
              <tbody id="requirementsTableBody" class="text-right">

                <tr>
                  <td class="border p-2 text-right">1</td>
                  <td class="border p-2">
                    <input type="text" name="Requirments" class="w-full border rounded px-2 py-1" placeholder="Enter requirement" />
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="text-right mt-2">
              <button type="button" onclick="addRequirementRow()" style="background-color: #A7C8CD; color: #366C77;"
                class="px-4 py-2 rounded">+ Add Row</button>
            </div>
          </div>
        </div>

        <!-- Department ID -->
        <div>
          <label class="block mb-1 font-medium">Department ID</label>
          <input type="number" name="dep_ID" class="w-full border rounded px-3 py-2" placeholder="Enter Department ID" required />
        </div>

        <!-- Buttons -->
        <div class="flex justify-between mt-6">
          <button type="reset" class="bg-gray-200 px-10 py-2 rounded">Cancel</button>
          <button type="submit" style="background-color:#366C77" class="text-white px-10 py-2 rounded">Submit</button>
        </div>
      </form>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/js/all.min.js" crossorigin="anonymous"></script>
</body>

</html>
